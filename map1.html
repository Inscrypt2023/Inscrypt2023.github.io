<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
    span.s2 {font: 12.0px 'PingFang SC'; font-kerning: none}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;html&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;meta charset="utf-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;meta name="keywords" content="</span><span class="s2">高德地图</span><span class="s1">,DIY</span><span class="s2">地图</span><span class="s1">,</span><span class="s2">高德地图生成器</span><span class="s1">"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;meta name="description" content="</span><span class="s2">高德地图，</span><span class="s1">DIY</span><span class="s2">地图，自己制作地图，生成自己的高德地图</span><span class="s1">"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;title&gt;</span><span class="s2">高德地图</span><span class="s1"> - DIY</span><span class="s2">我的地图</span><span class="s1">&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>body { margin: 0; font: 13px/1.5 "Microsoft YaHei", "Helvetica Neue", "Sans-Serif"; min-height: 960px; min-width: 600px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>.my-map { margin: 0 auto; width: 600px; height: 320px; } .my-map .icon { background: url(//a.amap.com/lbs-dev-yuntu/static/web/image/tools/creater/marker.png) no-repeat; } .my-map .icon-cir { height: 31px; width: 28px; } .my-map .icon-cir-red { background-position: -11px -5px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>.amap-container{height: 100%;}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>.myinfowindow{width: 240px;min-height: 50px;}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>.myinfowindow h5{ height: 20px; line-height: 20px; overflow: hidden; font-size: 14px; font-weight: bold; width: 220px; text-overflow: ellipsis; word-break: break-all; white-space: nowrap; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>.myinfowindow div{ margin-top: 10px; min-height: 40px; line-height: 20px; font-size: 13px; color: #6f6f6f; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;/head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;div id="wrap" class="my-map"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>&lt;div id="mapContainer"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;script src="//webapi.amap.com/maps?v=1.3&amp;key=e07ffdf58c8e8672037bef0d6cae7d4a"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>!function(){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>var infoWindow, map, level = 18,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>center = {lng: 120.34847, lat: 30.305731},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>features = [{"icon":"cir","color":"red","name":"</span><span class="s2">杭州盛泰开元名都大酒店</span><span class="s1">","desc":"Shengtai Kaiyuan Mingdu Hotel","lnglat":{"Q":30.30573114375811,"R":120.34846964970234,"lng":120.34847,"lat":30.305731},"offset":{"x":-9,"y":-31},"type":"Marker"}];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>function loadFeatures(){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>for(var feature, data, i = 0, len = features.length, j, jl, path; i &lt; len; i++){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>data = features[i];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>switch(data.type){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>case "Marker":</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>feature = new AMap.Marker({ map: map, position: new AMap.LngLat(data.lnglat.lng, data.lnglat.lat),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>zIndex: 3, extData: data, offset: new AMap.Pixel(data.offset.x, data.offset.y), title: data.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>content: '&lt;div class="icon icon-' + data.icon + ' icon-'+ data.icon +'-' + data.color +'"&gt;&lt;/div&gt;' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>case "Polyline":</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for(j = 0, jl = data.path.length, path = []; j &lt; jl; j++){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>path.push(new AMap.LngLat(data.path[j].lng, data.path[j].lat));</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>feature = new AMap.Polyline({ map: map, path: path, extData: data, zIndex: 2,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>strokeWeight: data.strokeWeight, strokeColor: data.strokeColor, strokeOpacity: data.strokeOpacity });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>case "Polygon":</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>for(j = 0, jl = data.path.length, path = []; j &lt; jl; j++){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>path.push(new AMap.LngLat(data.path[j].lng, data.path[j].lat));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>feature = new AMap.Polygon({ map: map, path: path, extData: data, zIndex: 1,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>strokeWeight: data.strokeWeight, strokeColor: data.strokeColor, strokeOpacity: data.strokeOpacity,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">               </span>fillColor: data.fillColor, fillOpacity: data.fillOpacity });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>default: feature = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>if(feature){ AMap.event.addListener(feature, "click", mapFeatureClick); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>function mapFeatureClick(e){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>if(!infoWindow){ infoWindow = new AMap.InfoWindow({autoMove: true,isCustom: false}); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>var extData = e.target.getExtData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>infoWindow.setContent("&lt;div class='myinfowindow'&gt;&lt;h5&gt;" + extData.name + "&lt;/h5&gt;&lt;div&gt;" + extData.desc + "&lt;/div&gt;&lt;/div&gt;");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>infoWindow.open(map, e.lnglat);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>map = new AMap.Map("mapContainer", {center: new AMap.LngLat(center.lng, center.lat), level: level, keyboardEnable:true, dragEnable:true, scrollWheel:true, doubleClickZoom:true});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">     </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>loadFeatures();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>map.on('complete', function(){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>map.plugin(["AMap.ToolBar", "AMap.OverView", "AMap.Scale"], function(){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>map.addControl(new AMap.ToolBar({ruler: true, direction: true, locate: false})); map.addControl(new AMap.OverView({isOpen: true})); map.addControl(new AMap.Scale);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>});<span class="Apple-tab-span">	</span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>})</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">     </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span>}();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;/body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>&lt;/html&gt;</span></p>
</body>
</html>
