<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'PingFang SC'}
    span.s1 {font: 12.0px 'PingFang SC'}
    span.s2 {font: 12.0px Helvetica}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="keywords" content="<span class="s1">百度地图</span>,<span class="s1">百度地图</span>API<span class="s1">，百度地图自定义工具，百度地图所见即所得工具</span>" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="description" content="<span class="s1">百度地图</span>API<span class="s1">自定义地图，帮助用户在可视化操作下生成百度地图</span>" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;<span class="s1">百度地图</span>API<span class="s1">自定义地图</span>&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!--<span class="s1">引用百度地图</span>API--&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=<span class="s1">您的密匙</span>"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/head&gt;</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!--<span class="s1">百度地图容器</span>--&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div style="width:700px;height:550px;border:#ccc solid 1px;font-size:12px" id="map"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;p style="color:red;font-weight:600"&gt;<span class="s1">地图生成工具基于百度地图</span>JS api v2.0<span class="s1">版本开发，使用请申请密匙。</span></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;a href="http://developer.baidu.com/map/index.php?title=jspopular/guide/introduction" style="color:#2f83c7" target="_blank"&gt;<span class="s1">了解如何申请密匙</span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;a href="http://lbsyun.baidu.com/apiconsole/key?application=key" style="color:#2f83c7" target="_blank"&gt;<span class="s1">申请密匙</span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script type="text/javascript"&gt;</p>
<p class="p3"><span class="s2"><span class="Apple-converted-space">    </span>//</span>创建和初始化地图函数：</p>
<p class="p1"><span class="Apple-converted-space">    </span>function initMap(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>createMap();//<span class="s1">创建地图</span></p>
<p class="p1"><span class="Apple-converted-space">      </span>setMapEvent();//<span class="s1">设置地图事件</span></p>
<p class="p1"><span class="Apple-converted-space">      </span>addMapControl();//<span class="s1">向地图添加控件</span></p>
<p class="p1"><span class="Apple-converted-space">      </span>addMapOverlay();//<span class="s1">向地图添加覆盖物</span></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>function createMap(){<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>map = new BMap.Map("map");<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>map.centerAndZoom(new BMap.Point(120.354702,30.311585),17);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>function setMapEvent(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.enableScrollWheelZoom();</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.enableKeyboard();</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.enableDragging();</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.enableDoubleClickZoom()</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>function addClickHandler(target,window){</p>
<p class="p1"><span class="Apple-converted-space">      </span>target.addEventListener("click",function(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>target.openInfoWindow(window);</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>function addMapOverlay(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>var markers = [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{content:"Shengtai Kaiyuan Mingdu Hotel",title:"<span class="s1">杭州盛泰开元名都大酒店</span>",imageOffset: {width:0,height:3},position:{lat:30.311554,lng:120.354666}}</p>
<p class="p1"><span class="Apple-converted-space">      </span>];</p>
<p class="p1"><span class="Apple-converted-space">      </span>for(var index = 0; index &lt; markers.length; index++ ){</p>
<p class="p1"><span class="Apple-converted-space">        </span>var point = new BMap.Point(markers[index].position.lng,markers[index].position.lat);</p>
<p class="p1"><span class="Apple-converted-space">        </span>var marker = new BMap.Marker(point,{icon:new BMap.Icon("http://api.map.baidu.com/lbsapi/createmap/images/icon.png",new BMap.Size(20,25),{</p>
<p class="p1"><span class="Apple-converted-space">          </span>imageOffset: new BMap.Size(markers[index].imageOffset.width,markers[index].imageOffset.height)</p>
<p class="p1"><span class="Apple-converted-space">        </span>})});</p>
<p class="p1"><span class="Apple-converted-space">        </span>var label = new BMap.Label(markers[index].title,{offset: new BMap.Size(25,5)});</p>
<p class="p1"><span class="Apple-converted-space">        </span>var opts = {</p>
<p class="p1"><span class="Apple-converted-space">          </span>width: 200,</p>
<p class="p1"><span class="Apple-converted-space">          </span>title: markers[index].title,</p>
<p class="p1"><span class="Apple-converted-space">          </span>enableMessage: false</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>var infoWindow = new BMap.InfoWindow(markers[index].content,opts);</p>
<p class="p1"><span class="Apple-converted-space">        </span>marker.setLabel(label);</p>
<p class="p1"><span class="Apple-converted-space">        </span>addClickHandler(marker,infoWindow);</p>
<p class="p1"><span class="Apple-converted-space">        </span>map.addOverlay(marker);</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p3"><span class="s2"><span class="Apple-converted-space">    </span>//</span>向地图添加控件</p>
<p class="p1"><span class="Apple-converted-space">    </span>function addMapControl(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>var scaleControl = new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});</p>
<p class="p1"><span class="Apple-converted-space">      </span>scaleControl.setUnit(BMAP_UNIT_IMPERIAL);</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.addControl(scaleControl);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var navControl = new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.addControl(navControl);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var overviewControl = new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:true});</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.addControl(overviewControl);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>var map;</p>
<p class="p1"><span class="Apple-converted-space">      </span>initMap();</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
